trigger:
  batch: true

pool:
  vmImage: 'VS2017-Win2016'

steps:

- task: DotNetCoreCLI@2
  inputs:
    command: build
    configurationToPack: Release
    projects: '**/**/*.csproj'

- task: NuGetToolInstaller@0
  inputs:
    versionSpec: '4.9.1' 

- task: DotNetCoreCLI@2
  inputs:
    command: test
    projects: '**/StrainTest/*.csproj'
    arguments: '--configuration $(buildConfiguration)'

- task: NuGetCommand@2
  inputs:
    command: pack
    configurationToPack: Release
    searchPatternPack: '**/TangleChainIXI/*.csproj'

